function handleScroll(){var e=$(".banner").outerHeight(),o=document.documentElement.scrollTop||document.body.scrollTop;o>e-53?$(".header").addClass("active"):$(".header").removeClass("active"),$(".header").show(),o>100?$(".cursor").fadeOut(1e3):$(".cursor").fadeIn(1e3)}function goDownLoad(e){var o=$(".download").offset().top;e?$("body").add($(document.documentElement)).animate({scrollTop:o},500):$(document).scrollTop(o)}function download_click(){goDownLoad(!0)}function highlightLink(){"#download"==location.hash?($(".index-page").removeClass("active"),$(".download-page").addClass("active"),goDownLoad(!0)):($(".index-page").addClass("active"),$(".download-page").removeClass("active"))}function addCount(){var e=parseInt(getStorage(localStorage,"count")||0,10);e++,setStorage(localStorage,"count",e+"")}function isSupportStorage(){var e=!0;try{sessionStorage.setItem("00_test_00","1")}catch(o){e=!1}return e}function getStorage(e,o){return isSupportStorage()?e.getItem(o):void 0}function setStorage(e,o,t){return isSupportStorage()?e.setItem(o,t):void 0}var handleScrollThrottle=util.throttle(handleScroll,500,{trailing:!0}),checkAnimationThrottle=util.throttle(checkAnimation,500,{trailing:!0});$(window).on("hashchange",function(){if(highlightLink(),"#download"==location.hash)try{localStorage.setItem("curfilename","index.html#download")}catch(e){}else try{localStorage.setItem("curfilename","index.html")}catch(e){}}),jQuery(document).ready(function(e){function o(){var o=e(window).height(),t=e(".video-js").width()+e(".video-js").offset().left,n=(o-410)/2;e(".close-video").css("top",n+"px"),e(".close-video").css("top",n+3+"px").css("left",t+"px")}function t(){e(".banner").height(e(window).height());var o=600,t=1280,n=e(window).height(),i=e(document).width(),a=1;a=i/t>n/o?i/t:n/o,e("#banner-bg-1,#banner-bg-2").css({transform:"scale("+a+")"})}function n(){flag?(e("#video_1").css("top","0").css("left","0").css("margin-left","0"),flag=!1):(e("#video_1").css("top","100px").css("left","50%").css("margin-left","-360px"),flag=!0)}var i=document.createElement("img"),a=Math.random();i.src="https://erp.baidu.com/global/images/logo.png?random="+a,i.onload=function(){e(".windows a").attr("href","http://hiupdate.baidu.com/BaiduHi_setup.exe"),e(".osx .ada-version a").attr("href","http://hiupdate.baidu.com/machi_10.9.dmg")},setTimeout(function(){i.src=""},3e3),t(),highlightLink(),e(document).on("scroll",function(){handleScrollThrottle(),checkAnimationThrottle()}),checkAnimation(),handleScroll(),e(".play").on("click",function(o){var t=(o.target||o.srcElement,document.body.clientWidth,document.body.clientHeight),n=document.body.clientWidth,i=2.5*(n>t?n:t);e(".for-animation").velocity({width:i+"px",height:i+"px",top:-(i/2),left:-(i/2)},800),setTimeout(function(){e("#video_1").css("display","inline");var o=videojs("video_1");o.ready(function(){e(".vjs-big-play-button").trigger("click")});e(".banner").outerHeight();e("#video_1").velocity({opacity:1,"margin-top":"-205px"},800)},800),setTimeout(function(){var o=e(".video-js").width()+e(".video-js").offset().left,t=e(".banner").outerHeight(),n=(t-410)/2;e(".close-video").css("left",o+"px").css("top",n+3+"px").css("display","inline-block"),window.playing=!0},1600)}),e(window).resize(function(){o(),t()});var c=function(){if("none"!=document.getElementsByClassName("close-video")[0].style.display){e(".close-video").fadeOut(300),e("#video-btn").css("background","white"),navigator.userAgent.toLowerCase().indexOf("safari")>-1?e("#video_1").css("display","none"):e("#video_1").fadeOut(300),setTimeout(function(){e("#video_1").css("margin-top","-95px")},500),e(".for-animation").width(0).height(0).css("top","-12px").css("left","0");var o=videojs("video_1");o.pause(),o.currentTime(0),e(".close-video").css("display","none")}};e(".close-video").on("click",c),document.addEventListener("fullscreenchange",function(e){n(e)},!0),document.addEventListener("webkitfullscreenchange",function(e){n(e)},!0),document.addEventListener("mozkitfullscreenchange",function(e){n(e)},!0),e(".download").on("mouseenter",".ios,.android",function(){e(this).find(".mask-download").velocity("stop").velocity({top:"0px"},200,"easeInOut")}).on("mouseleave",".ios,.android",function(){e(this).find(".mask-download").velocity("stop").velocity({top:"228px"},200,"easeInOut")}),e(".download").on("mouseenter",".windows,.osx",function(){e(this).addClass("active").velocity("stop").velocity({"background-color":"#4C8CE4"},200,"easeInOut")}).on("mouseleave",".windows,.osx",function(){e(this).removeClass("active").velocity("stop").velocity({"background-color":"#fff"},200,"easeInOut")})});